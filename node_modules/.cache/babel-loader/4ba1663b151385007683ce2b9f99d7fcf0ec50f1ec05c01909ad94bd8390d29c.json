{"ast":null,"code":"/**\n * Piggle is a game where you hit pegs with balls\n * \n * @author Charlie McLaughlin\n */import{useEffect,useRef,useState}from\"react\";import*as pegUtils from\"./PegUtils.js\";// Import cannon sprite\nimport PigCannon from\"./GameImages/PigCannon.png\";import piggleBall from\"./GameImages/piggleBall.png\";// Import game sounds\nimport pegHitSound from\"./Sounds/pegHitSound.wav\";/**\n * This function is the main game runner for the game\n * @returns The canvas that the game runs in\n */import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function PiggleGame(){// Reference to canvas element\nconst canvasRef=useRef(null);/* Canvas size constants */const CANVAS_HEIGHT=500;const CANVAS_WIDTH=400;/* Constants for game mechanics */const BALL_GRAVITY=0.025;const MAX_SHOTS=10;/* Constants for game sprites */const cannonImage=useRef(new Image());const piggleImage=useRef(new Image());// For audio\n// API call to handle peg sound     \nconst playPegHitSound=pitch=>{const audioContext=new(window.AudioContext||window.webkitAudioContext)();const source=audioContext.createBufferSource();fetch(pegHitSound).then(response=>response.arrayBuffer()).then(data=>audioContext.decodeAudioData(data)).then(buffer=>{source.buffer=buffer;source.playbackRate.value=pitch;source.connect(audioContext.destination);source.start(0);});};// Ball state variables\nconst ballRef=useRef({x:200,y:50,dx:0,dy:0,radius:9,launched:false});// State for cannon angle\nconst[cannonAngle,setCannonAngle]=useState(0);// State for remaining shots\nconst[shotsLeft,setShotsLeft]=useState(MAX_SHOTS);// Current score variable\n// (PROPOSED SCORE EQUATION) currentScore + (numberOfPegsHitThisShot * 100)\nconst[currentScore,setCurrentScore]=useState(0);const[pegsHitThisShot,setPegsHitThisShot]=useState(0);// State for game win or lose\nconst[gameMessage,setGameMessage]=useState(\"\");// State for game finished (0 for no, 1 for yes)\nconst[isGameDone,setIsGameDone]=useState(0);// Peg generation logic inside useEffect\nconst pegs=useRef([]);/**\n    * This will update the score for every peg hit\n    */useEffect(()=>{if(pegsHitThisShot>0){// Correctly update score based on latest pegsHitThisShot\nsetCurrentScore(prevScore=>prevScore+pegsHitThisShot*100);// Play peg sounds\nplayPegHitSound(0.9+pegsHitThisShot*0.1);console.log(currentScore);console.log(\"pitch = \"+(0.9+pegsHitThisShot*0.1));// Reset after score updates\nsetPegsHitThisShot(prev=>prev++);}},[pegsHitThisShot]);useEffect(()=>{// Randomize the pegs every time\nconst pegGeneration=Math.floor(Math.random()*5);// Correct random generation\nlet pegGenShape;// Generate the pegs based on the result of the random variable\nswitch(pegGeneration){case 0:pegGenShape=pegUtils.generatePegsRandomly();break;case 1:pegGenShape=pegUtils.generatePegsCircular();break;case 2:pegGenShape=pegUtils.generatePegsHexagonal();break;case 3:pegGenShape=pegUtils.generatePegsTriangular();break;case 4:pegGenShape=pegUtils.generatePegsGrid();break;default:pegGenShape=pegUtils.generatePegsRandomly();}// Set pegs after generation\npegs.current=pegGenShape;},[]);// Game loop\nuseEffect(()=>{const canvas=canvasRef.current;const ctx=canvas.getContext(\"2d\");let animationFrameId;// To load the images for sprites\ncannonImage.current.src=PigCannon;piggleImage.current.src=piggleBall;/**\n         * Method to generate the cannon\n         */const drawCannon=()=>{ctx.save();// Move pivot point to the cannon base\nctx.translate(200,50);// Offset the cannon angle by pi/2 to align barrel with mouse position\nctx.rotate(cannonAngle-Math.PI/2);// Cannon default size\nconst cannonWidth=40;const cannonHeight=80;// Generate cannon with position and size\nctx.drawImage(cannonImage.current,-(cannonWidth/2),-(cannonHeight/3),cannonWidth,cannonHeight);ctx.restore();};/**\n        * Method to generate the current ball\n        */const drawBall=()=>{var ballSize=2.5;// Draw the pig sprite\nif(ballRef.current.launched){ctx.drawImage(// The image reference\npiggleImage.current,// x position of the ball\nballRef.current.x-ballRef.current.radius,// y position of the ball\nballRef.current.y-ballRef.current.radius,ballRef.current.radius*ballSize,ballRef.current.radius*ballSize);}};/**\n         * Method to generate the pegs\n         */const drawPegs=()=>{if(pegs.current.length>0){pegs.current.forEach(peg=>{if(!peg.hit){ctx.beginPath();// Draw peg\nctx.arc(peg.x,peg.y,peg.radius,0,Math.PI*2);ctx.fillStyle=\"blue\";ctx.fill();// Draw peg border\nctx.lineWidth=1.5;ctx.strokeStyle=\"black\";ctx.stroke();ctx.closePath();}});}};/**\n         * Logic to handle peg collisions\n         */const handleCollisions=()=>{let hitCount=0;// Checks each peg if it was hit\npegs.current.forEach(peg=>{// Ignore if peg is hit\nif(peg.hit)return;const dx=ballRef.current.x-peg.x;const dy=ballRef.current.y-peg.y;const distance=Math.sqrt(dx*dx+dy*dy);// Calculate if peg was hit\nif(distance<ballRef.current.radius+peg.radius){// Get the direction of the collision by dividing with the distance\nconst normalX=dx/distance;const normalY=dy/distance;// Get the ball speed value by taking the dot product\nconst dotProduct=ballRef.current.dx*normalX+ballRef.current.dy*normalY;ballRef.current.dx-=2*dotProduct*normalX;ballRef.current.dy-=2*dotProduct*normalY;// Mark the peg as hit\npeg.hit=true;// Update hit count\nhitCount++;}});setPegsHitThisShot(prev=>prev+hitCount);};/**\n         * Update the ball position\n         */const updateBall=()=>{let ball=ballRef.current;// For ball launch logic\nif(ball.launched){ball.dy+=BALL_GRAVITY;ball.x+=ball.dx;ball.y+=ball.dy;// For ball hitting walls (flip x speed)\nif(ball.x-ball.radius<0||ball.x+ball.radius>canvas.width){ball.dx*=-1;}// For ball hitting ceiling (flip y speed)\nif(ball.y+ball.radius<0){ball.dy*=-1;}// If ball goes out of bounds on the bottom of the screen\nif(ball.y+ball.radius>canvas.height){// Reset Ball position\nball.launched=false;ball.x=200;ball.y=50;ball.dx=0;ball.dy=0;checkGameStatus();}// Handle Peg collisons\nhandleCollisions();}};/**\n         * Check if game is won\n         */const checkGameStatus=()=>{if(pegs.current.every(peg=>peg.hit)){// Add 500 points for every shot not used\nsetGameMessage(\"You Win! Score = \"+(currentScore+shotsLeft*500));setIsGameDone(1);}else if(shotsLeft<=0){setGameMessage(\"You Lose!\");}};/**\n         * Draw all of the elements on the canvas\n         */const animate=()=>{ctx.clearRect(0,0,canvas.width,canvas.height);drawCannon();drawPegs();drawBall();updateBall();animationFrameId=requestAnimationFrame(animate);};animate();return()=>cancelAnimationFrame(animationFrameId);},[cannonAngle,shotsLeft,currentScore]);const launchBall=()=>{// Ball will not launch is over or if there's no shots left\nif(!ballRef.current.launched&&shotsLeft>0&&gameMessage===\"\"){ballRef.current.dx=Math.cos(cannonAngle)*3;ballRef.current.dy=Math.sin(cannonAngle)*2;ballRef.current.launched=true;// Reset pegs hit\nsetPegsHitThisShot(0);// Update shot count\nsetShotsLeft(shotsLeft-1);}};/**\n     * Method that will move the cannon with the mouse position\n     */const handleMouseMove=event=>{const canvas=canvasRef.current;const rect=canvas.getBoundingClientRect();const mouseX=event.clientX-rect.left;const mouseY=event.clientY-rect.top;setCannonAngle(Math.atan2(mouseY-50,mouseX-200));};const resetgameRandom=()=>{// Reset ball state\nballRef.current={x:200,y:50,dx:0,dy:0,radius:10,launched:false};// Reset pegs\nconst pegGeneration=Math.floor(Math.random()*5);let pegGenShape;switch(pegGeneration){case 0:pegGenShape=pegUtils.generatePegsRandomly();break;case 1:pegGenShape=pegUtils.generatePegsCircular();break;case 2:pegGenShape=pegUtils.generatePegsHexagonal();break;case 3:pegGenShape=pegUtils.generatePegsTriangular();break;case 4:pegGenShape=pegUtils.generatePegsGrid();break;default:pegGenShape=pegUtils.generatePegsRandomly();}pegs.current=pegGenShape;// Reset game state\nsetShotsLeft(MAX_SHOTS);setGameMessage(\"\");};/**\n     * Return the canvas, game message, and the button to start a new game\n     */return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[isGameDone===0&&/*#__PURE__*/_jsxs(\"p\",{id:\"shotsLeft\",children:[\"Shots Left: \",shotsLeft]}),gameMessage&&/*#__PURE__*/_jsx(\"h2\",{id:\"gameMessage\",children:gameMessage}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:CANVAS_WIDTH,height:CANVAS_HEIGHT,className:\"border\",onClick:launchBall,onMouseMove:handleMouseMove}),isGameDone===0&&/*#__PURE__*/_jsx(\"p\",{id:\"score\",children:currentScore}),/*#__PURE__*/_jsx(\"button\",{id:\"newGameButtonRandom\",onClick:resetgameRandom,style:{marginTop:\"10px\",padding:\"10px\",fontSize:\"16px\"},children:\"Start a random new game!\"})]});}","map":{"version":3,"names":["useEffect","useRef","useState","pegUtils","PigCannon","piggleBall","pegHitSound","jsxs","_jsxs","jsx","_jsx","PiggleGame","canvasRef","CANVAS_HEIGHT","CANVAS_WIDTH","BALL_GRAVITY","MAX_SHOTS","cannonImage","Image","piggleImage","playPegHitSound","pitch","audioContext","window","AudioContext","webkitAudioContext","source","createBufferSource","fetch","then","response","arrayBuffer","data","decodeAudioData","buffer","playbackRate","value","connect","destination","start","ballRef","x","y","dx","dy","radius","launched","cannonAngle","setCannonAngle","shotsLeft","setShotsLeft","currentScore","setCurrentScore","pegsHitThisShot","setPegsHitThisShot","gameMessage","setGameMessage","isGameDone","setIsGameDone","pegs","prevScore","console","log","prev","pegGeneration","Math","floor","random","pegGenShape","generatePegsRandomly","generatePegsCircular","generatePegsHexagonal","generatePegsTriangular","generatePegsGrid","current","canvas","ctx","getContext","animationFrameId","src","drawCannon","save","translate","rotate","PI","cannonWidth","cannonHeight","drawImage","restore","drawBall","ballSize","drawPegs","length","forEach","peg","hit","beginPath","arc","fillStyle","fill","lineWidth","strokeStyle","stroke","closePath","handleCollisions","hitCount","distance","sqrt","normalX","normalY","dotProduct","updateBall","ball","width","height","checkGameStatus","every","animate","clearRect","requestAnimationFrame","cancelAnimationFrame","launchBall","cos","sin","handleMouseMove","event","rect","getBoundingClientRect","mouseX","clientX","left","mouseY","clientY","top","atan2","resetgameRandom","style","textAlign","children","id","ref","className","onClick","onMouseMove","marginTop","padding","fontSize"],"sources":["/Users/charliemclaughlin/Desktop/Programming/GitHub/piggle/src/PiggleGame.js"],"sourcesContent":["/**\n * Piggle is a game where you hit pegs with balls\n * \n * @author Charlie McLaughlin\n */\nimport { useEffect, useRef, useState } from \"react\";\n\nimport * as pegUtils from \"./PegUtils.js\";\n\n// Import cannon sprite\nimport PigCannon from \"./GameImages/PigCannon.png\";\nimport piggleBall from \"./GameImages/piggleBall.png\";\n// Import game sounds\nimport pegHitSound from \"./Sounds/pegHitSound.wav\";\n\n/**\n * This function is the main game runner for the game\n * @returns The canvas that the game runs in\n */\nexport default function PiggleGame() {\n    // Reference to canvas element\n    const canvasRef = useRef(null);\n    /* Canvas size constants */\n    const CANVAS_HEIGHT = 500;\n    const CANVAS_WIDTH = 400;\n\n    /* Constants for game mechanics */\n    const BALL_GRAVITY = 0.025;\n    const MAX_SHOTS = 10;\n\n    /* Constants for game sprites */\n    const cannonImage = useRef(new Image());\n    const piggleImage = useRef(new Image());\n\n    // For audio\n    // API call to handle peg sound     \n    const playPegHitSound = (pitch) => {\n        const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n        const source = audioContext.createBufferSource();\n        fetch(pegHitSound) \n            .then(response => response.arrayBuffer())\n            .then(data => audioContext.decodeAudioData(data))\n            .then(buffer => {\n                source.buffer = buffer;\n                source.playbackRate.value = pitch;\n                source.connect(audioContext.destination);\n                source.start(0);\n            });\n    };\n\n    // Ball state variables\n    const ballRef = useRef({\n        x: 200, y: 50, dx: 0, dy: 0, radius: 9, launched: false\n    });\n\n    // State for cannon angle\n    const [cannonAngle, setCannonAngle] = useState(0);\n    // State for remaining shots\n    const [shotsLeft, setShotsLeft] = useState(MAX_SHOTS);\n    // Current score variable\n    // (PROPOSED SCORE EQUATION) currentScore + (numberOfPegsHitThisShot * 100)\n    const [currentScore, setCurrentScore] = useState(0);\n    const [pegsHitThisShot, setPegsHitThisShot] = useState(0);\n    // State for game win or lose\n    const [gameMessage, setGameMessage] = useState(\"\");\n    // State for game finished (0 for no, 1 for yes)\n    const [isGameDone, setIsGameDone] = useState(0);\n\n    // Peg generation logic inside useEffect\n    const pegs = useRef([]);\n\n    /**\n    * This will update the score for every peg hit\n    */\n    useEffect(() => {\n        if (pegsHitThisShot > 0) {\n            // Correctly update score based on latest pegsHitThisShot\n            setCurrentScore(prevScore => prevScore + (pegsHitThisShot * 100));\n            // Play peg sounds\n            playPegHitSound(0.9 + (pegsHitThisShot * 0.1));\n            console.log(currentScore);\n            console.log(\"pitch = \" + (0.9 + (pegsHitThisShot * 0.1)));  \n            // Reset after score updates\n            setPegsHitThisShot(prev => prev++);\n        }\n    }, [pegsHitThisShot]);\n\n\n    useEffect(() => {\n        // Randomize the pegs every time\n        const pegGeneration = Math.floor(Math.random() * 5);  // Correct random generation\n\n        let pegGenShape;\n        // Generate the pegs based on the result of the random variable\n        switch (pegGeneration) {\n            case 0:\n                pegGenShape = pegUtils.generatePegsRandomly();\n                break;\n            case 1:\n                pegGenShape = pegUtils.generatePegsCircular();\n                break;\n            case 2:\n                pegGenShape = pegUtils.generatePegsHexagonal();\n                break;\n            case 3:\n                pegGenShape = pegUtils.generatePegsTriangular();\n                break;\n            case 4:\n                pegGenShape = pegUtils.generatePegsGrid();\n                break;\n            default:\n                pegGenShape = pegUtils.generatePegsRandomly();\n        }\n        // Set pegs after generation\n        pegs.current = pegGenShape;\n    }, []);\n\n    // Game loop\n    useEffect(() => {\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext(\"2d\");\n        let animationFrameId;\n\n        // To load the images for sprites\n        cannonImage.current.src = PigCannon;\n        piggleImage.current.src = piggleBall;\n\n\n        /**\n         * Method to generate the cannon\n         */\n        const drawCannon = () => {\n            ctx.save();\n            // Move pivot point to the cannon base\n            ctx.translate(200, 50);\n            // Offset the cannon angle by pi/2 to align barrel with mouse position\n            ctx.rotate(cannonAngle - (Math.PI / 2));\n            // Cannon default size\n            const cannonWidth = 40;\n            const cannonHeight = 80;\n            // Generate cannon with position and size\n            ctx.drawImage(cannonImage.current, -(cannonWidth / 2), -(cannonHeight / 3), cannonWidth, cannonHeight);\n            ctx.restore();\n        };\n\n        /**\n        * Method to generate the current ball\n        */\n        const drawBall = () => {\n            var ballSize = 2.5\n            // Draw the pig sprite\n            if (ballRef.current.launched) {\n                ctx.drawImage(\n                    // The image reference\n                    piggleImage.current,\n                    // x position of the ball\n                    ballRef.current.x - ballRef.current.radius,\n                    // y position of the ball\n                    ballRef.current.y - ballRef.current.radius,\n                    ballRef.current.radius * ballSize,\n                    ballRef.current.radius * ballSize\n                );\n            }\n        };\n\n        /**\n         * Method to generate the pegs\n         */\n        const drawPegs = () => {\n            if (pegs.current.length > 0) {\n                pegs.current.forEach(peg => {\n                    if (!peg.hit) {\n                        ctx.beginPath();\n                        // Draw peg\n                        ctx.arc(peg.x, peg.y, peg.radius, 0, Math.PI * 2);\n                        ctx.fillStyle = \"blue\";\n                        ctx.fill();\n                        // Draw peg border\n                        ctx.lineWidth = 1.5;\n                        ctx.strokeStyle = \"black\";\n                        ctx.stroke();\n\n                        ctx.closePath();\n                    }\n                });\n            }\n        };\n\n        /**\n         * Logic to handle peg collisions\n         */\n        const handleCollisions = () => {\n            let hitCount = 0;\n            // Checks each peg if it was hit\n            pegs.current.forEach(peg => {\n                // Ignore if peg is hit\n                if (peg.hit) return;\n                const dx = ballRef.current.x - peg.x;\n                const dy = ballRef.current.y - peg.y;\n                const distance = Math.sqrt(dx * dx + dy * dy);\n                // Calculate if peg was hit\n                if (distance < ballRef.current.radius + peg.radius) {\n                    // Get the direction of the collision by dividing with the distance\n                    const normalX = dx / distance;\n                    const normalY = dy / distance;\n                    // Get the ball speed value by taking the dot product\n                    const dotProduct = ballRef.current.dx * normalX + ballRef.current.dy * normalY;\n                    ballRef.current.dx -= 2 * dotProduct * normalX;\n                    ballRef.current.dy -= 2 * dotProduct * normalY;\n                    // Mark the peg as hit\n                    peg.hit = true;\n                    // Update hit count\n                    hitCount++;\n                }\n                \n            });\n\n            setPegsHitThisShot(prev => prev + hitCount);\n        };\n\n        /**\n         * Update the ball position\n         */\n        const updateBall = () => {\n            let ball = ballRef.current;\n            // For ball launch logic\n            if (ball.launched) {\n                ball.dy += BALL_GRAVITY;\n                ball.x += ball.dx;\n                ball.y += ball.dy;\n\n                // For ball hitting walls (flip x speed)\n                if (ball.x - ball.radius < 0 || ball.x + ball.radius > canvas.width) {\n                    ball.dx *= -1;\n                }\n\n                // For ball hitting ceiling (flip y speed)\n                if (ball.y + ball.radius < 0) {\n                    ball.dy *= -1;\n                }\n\n                // If ball goes out of bounds on the bottom of the screen\n                if (ball.y + ball.radius > canvas.height) {\n                    // Reset Ball position\n                    ball.launched = false;\n                    ball.x = 200;\n                    ball.y = 50;\n                    ball.dx = 0;\n                    ball.dy = 0;\n                    checkGameStatus();\n                }\n                // Handle Peg collisons\n                handleCollisions();\n            }\n        };\n\n        /**\n         * Check if game is won\n         */\n        const checkGameStatus = () => {\n            if (pegs.current.every(peg => peg.hit)) {\n                // Add 500 points for every shot not used\n                setGameMessage(\"You Win! Score = \" + (currentScore + (shotsLeft * 500)));\n                setIsGameDone(1);\n            } else if (shotsLeft <= 0) {\n                setGameMessage(\"You Lose!\");\n            }\n        };\n\n        /**\n         * Draw all of the elements on the canvas\n         */\n        const animate = () => {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            drawCannon();\n            drawPegs();\n            drawBall();\n            updateBall();\n            animationFrameId = requestAnimationFrame(animate);\n        };\n\n        animate();\n        return () => cancelAnimationFrame(animationFrameId);\n    }, [cannonAngle, shotsLeft, currentScore]);\n\n    const launchBall = () => {\n        // Ball will not launch is over or if there's no shots left\n        if (!ballRef.current.launched && shotsLeft > 0 && gameMessage === \"\") {\n            ballRef.current.dx = Math.cos(cannonAngle) * 3;\n            ballRef.current.dy = Math.sin(cannonAngle) * 2;\n            ballRef.current.launched = true;\n            // Reset pegs hit\n            setPegsHitThisShot(0);\n            // Update shot count\n            setShotsLeft(shotsLeft - 1);\n        }\n    };\n    /**\n     * Method that will move the cannon with the mouse position\n     */\n    const handleMouseMove = (event) => {\n        const canvas = canvasRef.current;\n        const rect = canvas.getBoundingClientRect();\n        const mouseX = event.clientX - rect.left;\n        const mouseY = event.clientY - rect.top;\n        setCannonAngle(Math.atan2(mouseY - 50, mouseX - 200));\n    };\n\n    const resetgameRandom = () => {\n        // Reset ball state\n        ballRef.current = {\n            x: 200, y: 50, dx: 0, dy: 0, radius: 10, launched: false\n        };\n\n        // Reset pegs\n        const pegGeneration = Math.floor(Math.random() * 5);\n        let pegGenShape;\n        switch (pegGeneration) {\n            case 0: pegGenShape = pegUtils.generatePegsRandomly(); break;\n            case 1: pegGenShape = pegUtils.generatePegsCircular(); break;\n            case 2: pegGenShape = pegUtils.generatePegsHexagonal(); break;\n            case 3: pegGenShape = pegUtils.generatePegsTriangular(); break;\n            case 4: pegGenShape = pegUtils.generatePegsGrid(); break;\n            default: pegGenShape = pegUtils.generatePegsRandomly();\n        }\n        pegs.current = pegGenShape;\n        // Reset game state\n        setShotsLeft(MAX_SHOTS);\n        setGameMessage(\"\");\n    };\n\n    /**\n     * Return the canvas, game message, and the button to start a new game\n     */\n    return (\n        <div style={{ textAlign: \"center\" }}>\n            {isGameDone === 0 && <p id=\"shotsLeft\">Shots Left: {shotsLeft}</p>}\n            {gameMessage && <h2 id=\"gameMessage\">{gameMessage}</h2>}\n            <canvas\n                ref={canvasRef}\n                width={CANVAS_WIDTH}\n                height={CANVAS_HEIGHT}\n                className=\"border\"\n                onClick={launchBall}\n                onMouseMove={handleMouseMove}\n            />\n            {isGameDone === 0 && <p id=\"score\">{currentScore}</p>}\n            <button id=\"newGameButtonRandom\" onClick={resetgameRandom} style={{ marginTop: \"10px\", padding: \"10px\", fontSize: \"16px\" }}>\n                Start a random new game!\n            </button>\n        </div>\n    );\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,GACA,OAASA,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAEnD,MAAO,GAAK,CAAAC,QAAQ,KAAM,eAAe,CAEzC;AACA,MAAO,CAAAC,SAAS,KAAM,4BAA4B,CAClD,MAAO,CAAAC,UAAU,KAAM,6BAA6B,CACpD;AACA,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAElD;AACA;AACA;AACA,GAHA,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAIA,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACjC;AACA,KAAM,CAAAC,SAAS,CAAGX,MAAM,CAAC,IAAI,CAAC,CAC9B,2BACA,KAAM,CAAAY,aAAa,CAAG,GAAG,CACzB,KAAM,CAAAC,YAAY,CAAG,GAAG,CAExB,kCACA,KAAM,CAAAC,YAAY,CAAG,KAAK,CAC1B,KAAM,CAAAC,SAAS,CAAG,EAAE,CAEpB,gCACA,KAAM,CAAAC,WAAW,CAAGhB,MAAM,CAAC,GAAI,CAAAiB,KAAK,CAAC,CAAC,CAAC,CACvC,KAAM,CAAAC,WAAW,CAAGlB,MAAM,CAAC,GAAI,CAAAiB,KAAK,CAAC,CAAC,CAAC,CAEvC;AACA;AACA,KAAM,CAAAE,eAAe,CAAIC,KAAK,EAAK,CAC/B,KAAM,CAAAC,YAAY,CAAG,IAAKC,MAAM,CAACC,YAAY,EAAID,MAAM,CAACE,kBAAkB,EAAE,CAAC,CAC7E,KAAM,CAAAC,MAAM,CAAGJ,YAAY,CAACK,kBAAkB,CAAC,CAAC,CAChDC,KAAK,CAACtB,WAAW,CAAC,CACbuB,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,WAAW,CAAC,CAAC,CAAC,CACxCF,IAAI,CAACG,IAAI,EAAIV,YAAY,CAACW,eAAe,CAACD,IAAI,CAAC,CAAC,CAChDH,IAAI,CAACK,MAAM,EAAI,CACZR,MAAM,CAACQ,MAAM,CAAGA,MAAM,CACtBR,MAAM,CAACS,YAAY,CAACC,KAAK,CAAGf,KAAK,CACjCK,MAAM,CAACW,OAAO,CAACf,YAAY,CAACgB,WAAW,CAAC,CACxCZ,MAAM,CAACa,KAAK,CAAC,CAAC,CAAC,CACnB,CAAC,CAAC,CACV,CAAC,CAED;AACA,KAAM,CAAAC,OAAO,CAAGvC,MAAM,CAAC,CACnBwC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE,EAAE,CAAEC,EAAE,CAAE,CAAC,CAAEC,EAAE,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAEC,QAAQ,CAAE,KACtD,CAAC,CAAC,CAEF;AACA,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAG9C,QAAQ,CAAC,CAAC,CAAC,CACjD;AACA,KAAM,CAAC+C,SAAS,CAAEC,YAAY,CAAC,CAAGhD,QAAQ,CAACc,SAAS,CAAC,CACrD;AACA;AACA,KAAM,CAACmC,YAAY,CAAEC,eAAe,CAAC,CAAGlD,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACmD,eAAe,CAAEC,kBAAkB,CAAC,CAAGpD,QAAQ,CAAC,CAAC,CAAC,CACzD;AACA,KAAM,CAACqD,WAAW,CAAEC,cAAc,CAAC,CAAGtD,QAAQ,CAAC,EAAE,CAAC,CAClD;AACA,KAAM,CAACuD,UAAU,CAAEC,aAAa,CAAC,CAAGxD,QAAQ,CAAC,CAAC,CAAC,CAE/C;AACA,KAAM,CAAAyD,IAAI,CAAG1D,MAAM,CAAC,EAAE,CAAC,CAEvB;AACJ;AACA,MACID,SAAS,CAAC,IAAM,CACZ,GAAIqD,eAAe,CAAG,CAAC,CAAE,CACrB;AACAD,eAAe,CAACQ,SAAS,EAAIA,SAAS,CAAIP,eAAe,CAAG,GAAI,CAAC,CACjE;AACAjC,eAAe,CAAC,GAAG,CAAIiC,eAAe,CAAG,GAAI,CAAC,CAC9CQ,OAAO,CAACC,GAAG,CAACX,YAAY,CAAC,CACzBU,OAAO,CAACC,GAAG,CAAC,UAAU,EAAI,GAAG,CAAIT,eAAe,CAAG,GAAI,CAAC,CAAC,CACzD;AACAC,kBAAkB,CAACS,IAAI,EAAIA,IAAI,EAAE,CAAC,CACtC,CACJ,CAAC,CAAE,CAACV,eAAe,CAAC,CAAC,CAGrBrD,SAAS,CAAC,IAAM,CACZ;AACA,KAAM,CAAAgE,aAAa,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CAAG;AAEtD,GAAI,CAAAC,WAAW,CACf;AACA,OAAQJ,aAAa,EACjB,IAAK,EAAC,CACFI,WAAW,CAAGjE,QAAQ,CAACkE,oBAAoB,CAAC,CAAC,CAC7C,MACJ,IAAK,EAAC,CACFD,WAAW,CAAGjE,QAAQ,CAACmE,oBAAoB,CAAC,CAAC,CAC7C,MACJ,IAAK,EAAC,CACFF,WAAW,CAAGjE,QAAQ,CAACoE,qBAAqB,CAAC,CAAC,CAC9C,MACJ,IAAK,EAAC,CACFH,WAAW,CAAGjE,QAAQ,CAACqE,sBAAsB,CAAC,CAAC,CAC/C,MACJ,IAAK,EAAC,CACFJ,WAAW,CAAGjE,QAAQ,CAACsE,gBAAgB,CAAC,CAAC,CACzC,MACJ,QACIL,WAAW,CAAGjE,QAAQ,CAACkE,oBAAoB,CAAC,CAAC,CACrD,CACA;AACAV,IAAI,CAACe,OAAO,CAAGN,WAAW,CAC9B,CAAC,CAAE,EAAE,CAAC,CAEN;AACApE,SAAS,CAAC,IAAM,CACZ,KAAM,CAAA2E,MAAM,CAAG/D,SAAS,CAAC8D,OAAO,CAChC,KAAM,CAAAE,GAAG,CAAGD,MAAM,CAACE,UAAU,CAAC,IAAI,CAAC,CACnC,GAAI,CAAAC,gBAAgB,CAEpB;AACA7D,WAAW,CAACyD,OAAO,CAACK,GAAG,CAAG3E,SAAS,CACnCe,WAAW,CAACuD,OAAO,CAACK,GAAG,CAAG1E,UAAU,CAGpC;AACR;AACA,WACQ,KAAM,CAAA2E,UAAU,CAAGA,CAAA,GAAM,CACrBJ,GAAG,CAACK,IAAI,CAAC,CAAC,CACV;AACAL,GAAG,CAACM,SAAS,CAAC,GAAG,CAAE,EAAE,CAAC,CACtB;AACAN,GAAG,CAACO,MAAM,CAACpC,WAAW,CAAIkB,IAAI,CAACmB,EAAE,CAAG,CAAE,CAAC,CACvC;AACA,KAAM,CAAAC,WAAW,CAAG,EAAE,CACtB,KAAM,CAAAC,YAAY,CAAG,EAAE,CACvB;AACAV,GAAG,CAACW,SAAS,CAACtE,WAAW,CAACyD,OAAO,CAAE,EAAEW,WAAW,CAAG,CAAC,CAAC,CAAE,EAAEC,YAAY,CAAG,CAAC,CAAC,CAAED,WAAW,CAAEC,YAAY,CAAC,CACtGV,GAAG,CAACY,OAAO,CAAC,CAAC,CACjB,CAAC,CAED;AACR;AACA,UACQ,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACnB,GAAI,CAAAC,QAAQ,CAAG,GAAG,CAClB;AACA,GAAIlD,OAAO,CAACkC,OAAO,CAAC5B,QAAQ,CAAE,CAC1B8B,GAAG,CAACW,SAAS,CACT;AACApE,WAAW,CAACuD,OAAO,CACnB;AACAlC,OAAO,CAACkC,OAAO,CAACjC,CAAC,CAAGD,OAAO,CAACkC,OAAO,CAAC7B,MAAM,CAC1C;AACAL,OAAO,CAACkC,OAAO,CAAChC,CAAC,CAAGF,OAAO,CAACkC,OAAO,CAAC7B,MAAM,CAC1CL,OAAO,CAACkC,OAAO,CAAC7B,MAAM,CAAG6C,QAAQ,CACjClD,OAAO,CAACkC,OAAO,CAAC7B,MAAM,CAAG6C,QAC7B,CAAC,CACL,CACJ,CAAC,CAED;AACR;AACA,WACQ,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACnB,GAAIhC,IAAI,CAACe,OAAO,CAACkB,MAAM,CAAG,CAAC,CAAE,CACzBjC,IAAI,CAACe,OAAO,CAACmB,OAAO,CAACC,GAAG,EAAI,CACxB,GAAI,CAACA,GAAG,CAACC,GAAG,CAAE,CACVnB,GAAG,CAACoB,SAAS,CAAC,CAAC,CACf;AACApB,GAAG,CAACqB,GAAG,CAACH,GAAG,CAACrD,CAAC,CAAEqD,GAAG,CAACpD,CAAC,CAAEoD,GAAG,CAACjD,MAAM,CAAE,CAAC,CAAEoB,IAAI,CAACmB,EAAE,CAAG,CAAC,CAAC,CACjDR,GAAG,CAACsB,SAAS,CAAG,MAAM,CACtBtB,GAAG,CAACuB,IAAI,CAAC,CAAC,CACV;AACAvB,GAAG,CAACwB,SAAS,CAAG,GAAG,CACnBxB,GAAG,CAACyB,WAAW,CAAG,OAAO,CACzBzB,GAAG,CAAC0B,MAAM,CAAC,CAAC,CAEZ1B,GAAG,CAAC2B,SAAS,CAAC,CAAC,CACnB,CACJ,CAAC,CAAC,CACN,CACJ,CAAC,CAED;AACR;AACA,WACQ,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC3B,GAAI,CAAAC,QAAQ,CAAG,CAAC,CAChB;AACA9C,IAAI,CAACe,OAAO,CAACmB,OAAO,CAACC,GAAG,EAAI,CACxB;AACA,GAAIA,GAAG,CAACC,GAAG,CAAE,OACb,KAAM,CAAApD,EAAE,CAAGH,OAAO,CAACkC,OAAO,CAACjC,CAAC,CAAGqD,GAAG,CAACrD,CAAC,CACpC,KAAM,CAAAG,EAAE,CAAGJ,OAAO,CAACkC,OAAO,CAAChC,CAAC,CAAGoD,GAAG,CAACpD,CAAC,CACpC,KAAM,CAAAgE,QAAQ,CAAGzC,IAAI,CAAC0C,IAAI,CAAChE,EAAE,CAAGA,EAAE,CAAGC,EAAE,CAAGA,EAAE,CAAC,CAC7C;AACA,GAAI8D,QAAQ,CAAGlE,OAAO,CAACkC,OAAO,CAAC7B,MAAM,CAAGiD,GAAG,CAACjD,MAAM,CAAE,CAChD;AACA,KAAM,CAAA+D,OAAO,CAAGjE,EAAE,CAAG+D,QAAQ,CAC7B,KAAM,CAAAG,OAAO,CAAGjE,EAAE,CAAG8D,QAAQ,CAC7B;AACA,KAAM,CAAAI,UAAU,CAAGtE,OAAO,CAACkC,OAAO,CAAC/B,EAAE,CAAGiE,OAAO,CAAGpE,OAAO,CAACkC,OAAO,CAAC9B,EAAE,CAAGiE,OAAO,CAC9ErE,OAAO,CAACkC,OAAO,CAAC/B,EAAE,EAAI,CAAC,CAAGmE,UAAU,CAAGF,OAAO,CAC9CpE,OAAO,CAACkC,OAAO,CAAC9B,EAAE,EAAI,CAAC,CAAGkE,UAAU,CAAGD,OAAO,CAC9C;AACAf,GAAG,CAACC,GAAG,CAAG,IAAI,CACd;AACAU,QAAQ,EAAE,CACd,CAEJ,CAAC,CAAC,CAEFnD,kBAAkB,CAACS,IAAI,EAAIA,IAAI,CAAG0C,QAAQ,CAAC,CAC/C,CAAC,CAED;AACR;AACA,WACQ,KAAM,CAAAM,UAAU,CAAGA,CAAA,GAAM,CACrB,GAAI,CAAAC,IAAI,CAAGxE,OAAO,CAACkC,OAAO,CAC1B;AACA,GAAIsC,IAAI,CAAClE,QAAQ,CAAE,CACfkE,IAAI,CAACpE,EAAE,EAAI7B,YAAY,CACvBiG,IAAI,CAACvE,CAAC,EAAIuE,IAAI,CAACrE,EAAE,CACjBqE,IAAI,CAACtE,CAAC,EAAIsE,IAAI,CAACpE,EAAE,CAEjB;AACA,GAAIoE,IAAI,CAACvE,CAAC,CAAGuE,IAAI,CAACnE,MAAM,CAAG,CAAC,EAAImE,IAAI,CAACvE,CAAC,CAAGuE,IAAI,CAACnE,MAAM,CAAG8B,MAAM,CAACsC,KAAK,CAAE,CACjED,IAAI,CAACrE,EAAE,EAAI,CAAC,CAAC,CACjB,CAEA;AACA,GAAIqE,IAAI,CAACtE,CAAC,CAAGsE,IAAI,CAACnE,MAAM,CAAG,CAAC,CAAE,CAC1BmE,IAAI,CAACpE,EAAE,EAAI,CAAC,CAAC,CACjB,CAEA;AACA,GAAIoE,IAAI,CAACtE,CAAC,CAAGsE,IAAI,CAACnE,MAAM,CAAG8B,MAAM,CAACuC,MAAM,CAAE,CACtC;AACAF,IAAI,CAAClE,QAAQ,CAAG,KAAK,CACrBkE,IAAI,CAACvE,CAAC,CAAG,GAAG,CACZuE,IAAI,CAACtE,CAAC,CAAG,EAAE,CACXsE,IAAI,CAACrE,EAAE,CAAG,CAAC,CACXqE,IAAI,CAACpE,EAAE,CAAG,CAAC,CACXuE,eAAe,CAAC,CAAC,CACrB,CACA;AACAX,gBAAgB,CAAC,CAAC,CACtB,CACJ,CAAC,CAED;AACR;AACA,WACQ,KAAM,CAAAW,eAAe,CAAGA,CAAA,GAAM,CAC1B,GAAIxD,IAAI,CAACe,OAAO,CAAC0C,KAAK,CAACtB,GAAG,EAAIA,GAAG,CAACC,GAAG,CAAC,CAAE,CACpC;AACAvC,cAAc,CAAC,mBAAmB,EAAIL,YAAY,CAAIF,SAAS,CAAG,GAAI,CAAC,CAAC,CACxES,aAAa,CAAC,CAAC,CAAC,CACpB,CAAC,IAAM,IAAIT,SAAS,EAAI,CAAC,CAAE,CACvBO,cAAc,CAAC,WAAW,CAAC,CAC/B,CACJ,CAAC,CAED;AACR;AACA,WACQ,KAAM,CAAA6D,OAAO,CAAGA,CAAA,GAAM,CAClBzC,GAAG,CAAC0C,SAAS,CAAC,CAAC,CAAE,CAAC,CAAE3C,MAAM,CAACsC,KAAK,CAAEtC,MAAM,CAACuC,MAAM,CAAC,CAChDlC,UAAU,CAAC,CAAC,CACZW,QAAQ,CAAC,CAAC,CACVF,QAAQ,CAAC,CAAC,CACVsB,UAAU,CAAC,CAAC,CACZjC,gBAAgB,CAAGyC,qBAAqB,CAACF,OAAO,CAAC,CACrD,CAAC,CAEDA,OAAO,CAAC,CAAC,CACT,MAAO,IAAMG,oBAAoB,CAAC1C,gBAAgB,CAAC,CACvD,CAAC,CAAE,CAAC/B,WAAW,CAAEE,SAAS,CAAEE,YAAY,CAAC,CAAC,CAE1C,KAAM,CAAAsE,UAAU,CAAGA,CAAA,GAAM,CACrB;AACA,GAAI,CAACjF,OAAO,CAACkC,OAAO,CAAC5B,QAAQ,EAAIG,SAAS,CAAG,CAAC,EAAIM,WAAW,GAAK,EAAE,CAAE,CAClEf,OAAO,CAACkC,OAAO,CAAC/B,EAAE,CAAGsB,IAAI,CAACyD,GAAG,CAAC3E,WAAW,CAAC,CAAG,CAAC,CAC9CP,OAAO,CAACkC,OAAO,CAAC9B,EAAE,CAAGqB,IAAI,CAAC0D,GAAG,CAAC5E,WAAW,CAAC,CAAG,CAAC,CAC9CP,OAAO,CAACkC,OAAO,CAAC5B,QAAQ,CAAG,IAAI,CAC/B;AACAQ,kBAAkB,CAAC,CAAC,CAAC,CACrB;AACAJ,YAAY,CAACD,SAAS,CAAG,CAAC,CAAC,CAC/B,CACJ,CAAC,CACD;AACJ;AACA,OACI,KAAM,CAAA2E,eAAe,CAAIC,KAAK,EAAK,CAC/B,KAAM,CAAAlD,MAAM,CAAG/D,SAAS,CAAC8D,OAAO,CAChC,KAAM,CAAAoD,IAAI,CAAGnD,MAAM,CAACoD,qBAAqB,CAAC,CAAC,CAC3C,KAAM,CAAAC,MAAM,CAAGH,KAAK,CAACI,OAAO,CAAGH,IAAI,CAACI,IAAI,CACxC,KAAM,CAAAC,MAAM,CAAGN,KAAK,CAACO,OAAO,CAAGN,IAAI,CAACO,GAAG,CACvCrF,cAAc,CAACiB,IAAI,CAACqE,KAAK,CAACH,MAAM,CAAG,EAAE,CAAEH,MAAM,CAAG,GAAG,CAAC,CAAC,CACzD,CAAC,CAED,KAAM,CAAAO,eAAe,CAAGA,CAAA,GAAM,CAC1B;AACA/F,OAAO,CAACkC,OAAO,CAAG,CACdjC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE,EAAE,CAAEC,EAAE,CAAE,CAAC,CAAEC,EAAE,CAAE,CAAC,CAAEC,MAAM,CAAE,EAAE,CAAEC,QAAQ,CAAE,KACvD,CAAC,CAED;AACA,KAAM,CAAAkB,aAAa,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,CAAC,CAAC,CACnD,GAAI,CAAAC,WAAW,CACf,OAAQJ,aAAa,EACjB,IAAK,EAAC,CAAEI,WAAW,CAAGjE,QAAQ,CAACkE,oBAAoB,CAAC,CAAC,CAAE,MACvD,IAAK,EAAC,CAAED,WAAW,CAAGjE,QAAQ,CAACmE,oBAAoB,CAAC,CAAC,CAAE,MACvD,IAAK,EAAC,CAAEF,WAAW,CAAGjE,QAAQ,CAACoE,qBAAqB,CAAC,CAAC,CAAE,MACxD,IAAK,EAAC,CAAEH,WAAW,CAAGjE,QAAQ,CAACqE,sBAAsB,CAAC,CAAC,CAAE,MACzD,IAAK,EAAC,CAAEJ,WAAW,CAAGjE,QAAQ,CAACsE,gBAAgB,CAAC,CAAC,CAAE,MACnD,QAASL,WAAW,CAAGjE,QAAQ,CAACkE,oBAAoB,CAAC,CAAC,CAC1D,CACAV,IAAI,CAACe,OAAO,CAAGN,WAAW,CAC1B;AACAlB,YAAY,CAAClC,SAAS,CAAC,CACvBwC,cAAc,CAAC,EAAE,CAAC,CACtB,CAAC,CAED;AACJ;AACA,OACI,mBACIhD,KAAA,QAAKgI,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAC,QAAA,EAC/BjF,UAAU,GAAK,CAAC,eAAIjD,KAAA,MAAGmI,EAAE,CAAC,WAAW,CAAAD,QAAA,EAAC,cAAY,CAACzF,SAAS,EAAI,CAAC,CACjEM,WAAW,eAAI7C,IAAA,OAAIiI,EAAE,CAAC,aAAa,CAAAD,QAAA,CAAEnF,WAAW,CAAK,CAAC,cACvD7C,IAAA,WACIkI,GAAG,CAAEhI,SAAU,CACfqG,KAAK,CAAEnG,YAAa,CACpBoG,MAAM,CAAErG,aAAc,CACtBgI,SAAS,CAAC,QAAQ,CAClBC,OAAO,CAAErB,UAAW,CACpBsB,WAAW,CAAEnB,eAAgB,CAChC,CAAC,CACDnE,UAAU,GAAK,CAAC,eAAI/C,IAAA,MAAGiI,EAAE,CAAC,OAAO,CAAAD,QAAA,CAAEvF,YAAY,CAAI,CAAC,cACrDzC,IAAA,WAAQiI,EAAE,CAAC,qBAAqB,CAACG,OAAO,CAAEP,eAAgB,CAACC,KAAK,CAAE,CAAEQ,SAAS,CAAE,MAAM,CAAEC,OAAO,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAR,QAAA,CAAC,0BAE5H,CAAQ,CAAC,EACR,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import{useState,useEffect}from\"react\";import{getAuth,onAuthStateChanged}from\"firebase/auth\";import{getFirestore,doc,getDoc}from\"firebase/firestore\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const UserProfile=()=>{const[user,setUser]=useState(null);const[username,setUsername]=useState(\"\");const[highscore,setHighscore]=useState(0);useEffect(()=>{const auth=getAuth();const db=getFirestore();// Listen for changes to the authentication state\nconst unsubscribe=onAuthStateChanged(auth,async currentUser=>{setUser(currentUser);if(currentUser){const userRef=doc(db,\"users\",currentUser.uid);const docSnap=await getDoc(userRef);if(docSnap.exists()){const userData=docSnap.data();setUsername(userData.username);setHighscore(userData.highscore);}else{console.log(\"User document not found\");}}else{console.log(\"No user signed in\");}});return()=>unsubscribe();},[]);return user?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Logged in as: \",username]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Current High Score: \",highscore]})]}):/*#__PURE__*/_jsx(\"div\",{});};export default UserProfile;","map":{"version":3,"names":["useState","useEffect","getAuth","onAuthStateChanged","getFirestore","doc","getDoc","jsxs","_jsxs","jsx","_jsx","UserProfile","user","setUser","username","setUsername","highscore","setHighscore","auth","db","unsubscribe","currentUser","userRef","uid","docSnap","exists","userData","data","console","log","children"],"sources":["/Users/charliemclaughlin/Desktop/Programming/GitHub/piggle/src/components/UserProfile.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { getFirestore, doc, getDoc } from \"firebase/firestore\";\n\nconst UserProfile = () => {\n    const [user, setUser] = useState(null);\n    const [username, setUsername] = useState(\"\");\n    const [highscore, setHighscore] = useState(0);\n    \n    useEffect(() => {\n        const auth = getAuth();\n        const db = getFirestore();\n\n        // Listen for changes to the authentication state\n        const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\n            setUser(currentUser);\n\n            if (currentUser) {\n                const userRef = doc(db, \"users\", currentUser.uid);\n                const docSnap = await getDoc(userRef);\n                if (docSnap.exists()) {\n                    const userData = docSnap.data();\n                    setUsername(userData.username);\n                    setHighscore(userData.highscore);\n                } else {\n                    console.log(\"User document not found\");\n                }\n            } else {\n                console.log(\"No user signed in\");\n            }\n\n        });\n\n        return () => unsubscribe();\n    }, []);\n\n    return user ? (\n        <div>\n            <h2>Logged in as: {username}</h2>\n            <h2>Current High Score: {highscore}</h2>\n        </div>\n    ) : (\n        <div></div>\n    );\n};\n\nexport default UserProfile;\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,OAAO,CAAEC,kBAAkB,KAAQ,eAAe,CAC3D,OAASC,YAAY,CAAEC,GAAG,CAAEC,MAAM,KAAQ,oBAAoB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE/D,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgB,SAAS,CAAEC,YAAY,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CAE7CC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAiB,IAAI,CAAGhB,OAAO,CAAC,CAAC,CACtB,KAAM,CAAAiB,EAAE,CAAGf,YAAY,CAAC,CAAC,CAEzB;AACA,KAAM,CAAAgB,WAAW,CAAGjB,kBAAkB,CAACe,IAAI,CAAE,KAAO,CAAAG,WAAW,EAAK,CAChER,OAAO,CAACQ,WAAW,CAAC,CAEpB,GAAIA,WAAW,CAAE,CACb,KAAM,CAAAC,OAAO,CAAGjB,GAAG,CAACc,EAAE,CAAE,OAAO,CAAEE,WAAW,CAACE,GAAG,CAAC,CACjD,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAlB,MAAM,CAACgB,OAAO,CAAC,CACrC,GAAIE,OAAO,CAACC,MAAM,CAAC,CAAC,CAAE,CAClB,KAAM,CAAAC,QAAQ,CAAGF,OAAO,CAACG,IAAI,CAAC,CAAC,CAC/BZ,WAAW,CAACW,QAAQ,CAACZ,QAAQ,CAAC,CAC9BG,YAAY,CAACS,QAAQ,CAACV,SAAS,CAAC,CACpC,CAAC,IAAM,CACHY,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC,CAC1C,CACJ,CAAC,IAAM,CACHD,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CACpC,CAEJ,CAAC,CAAC,CAEF,MAAO,IAAMT,WAAW,CAAC,CAAC,CAC9B,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAAR,IAAI,cACPJ,KAAA,QAAAsB,QAAA,eACItB,KAAA,OAAAsB,QAAA,EAAI,gBAAc,CAAChB,QAAQ,EAAK,CAAC,cACjCN,KAAA,OAAAsB,QAAA,EAAI,sBAAoB,CAACd,SAAS,EAAK,CAAC,EACvC,CAAC,cAENN,IAAA,SAAU,CACb,CACL,CAAC,CAED,cAAe,CAAAC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
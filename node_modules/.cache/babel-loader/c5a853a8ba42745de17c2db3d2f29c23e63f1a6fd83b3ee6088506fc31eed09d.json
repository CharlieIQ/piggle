{"ast":null,"code":"var _jsxFileName = \"/Users/charliemclaughlin/Desktop/Programming/JavaScript/Piggle/piggle/src/PiggleGame.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WIDTH = 800;\nconst HEIGHT = 600;\nconst BALL_RADIUS = 10;\nconst PEG_RADIUS = 15;\nconst NUM_PEGS = 20;\nconst GRAVITY = 0.2;\nconst FRICTION = 0.99;\nconst getRandomPegPositions = () => {\n  return Array.from({\n    length: NUM_PEGS\n  }, () => ({\n    x: Math.random() * (WIDTH - 2 * PEG_RADIUS) + PEG_RADIUS,\n    y: Math.random() * (HEIGHT / 2 - 2 * PEG_RADIUS) + PEG_RADIUS,\n    hit: false\n  }));\n};\nconst PiggleGame = () => {\n  _s();\n  const [ball, setBall] = useState(null);\n  const [pegs, setPegs] = useState(getRandomPegPositions);\n  const [angle, setAngle] = useState(0);\n  const [isShooting, setIsShooting] = useState(false);\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const update = () => {\n      ctx.clearRect(0, 0, WIDTH, HEIGHT);\n      drawCannon(ctx);\n      drawPegs(ctx);\n      if (ball) updateBall(ctx);\n      requestAnimationFrame(update);\n    };\n    update();\n  }, [ball, pegs]);\n  const updateBall = ctx => {\n    setBall(prev => {\n      if (!prev) return null;\n      let {\n        x,\n        y,\n        dx,\n        dy\n      } = prev;\n      dy += GRAVITY;\n      dx *= FRICTION;\n      dy *= FRICTION;\n      x += dx;\n      y += dy;\n\n      // Check for collisions with pegs\n      pegs.forEach(peg => {\n        if (!peg.hit) {\n          const dist = Math.hypot(peg.x - x, peg.y - y);\n          if (dist < PEG_RADIUS + BALL_RADIUS) {\n            peg.hit = true;\n            dy = -dy;\n          }\n        }\n      });\n\n      // Check for walls\n      if (x - BALL_RADIUS < 0 || x + BALL_RADIUS > WIDTH) dx = -dx;\n      if (y - BALL_RADIUS < 0) dy = -dy;\n\n      // If ball hits the bottom, reset it\n      if (y + BALL_RADIUS >= HEIGHT) {\n        return null;\n      }\n      ctx.beginPath();\n      ctx.arc(x, y, BALL_RADIUS, 0, Math.PI * 2);\n      ctx.fillStyle = \"black\";\n      ctx.fill();\n      ctx.closePath();\n      return {\n        x,\n        y,\n        dx,\n        dy\n      };\n    });\n  };\n  const drawCannon = ctx => {\n    ctx.save();\n    ctx.translate(WIDTH / 2, 50); // Move cannon to the top\n    ctx.rotate(angle);\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(-10, -30, 20, 50);\n    ctx.restore();\n  };\n  const drawPegs = ctx => {\n    pegs.forEach(peg => {\n      if (!peg.hit) {\n        ctx.beginPath();\n        ctx.arc(peg.x, peg.y, PEG_RADIUS, 0, Math.PI * 2);\n        ctx.fillStyle = \"blue\"; // Change peg color to blue\n        ctx.fill();\n        ctx.closePath();\n      }\n    });\n  };\n  const shootBall = () => {\n    if (!isShooting && !ball) {\n      setIsShooting(true);\n      setBall({\n        x: WIDTH / 2,\n        y: 50,\n        // Start from the cannon's position\n        dx: Math.cos(angle) * 5,\n        dy: Math.sin(angle) * 5\n      });\n      setTimeout(() => setIsShooting(false), 2000);\n    }\n  };\n  useEffect(() => {\n    if (!ball) {\n      setTimeout(() => {\n        setBall(null);\n        setPegs(getRandomPegPositions());\n      }, 1000);\n    }\n  }, [ball]);\n  const handleMouseMove = e => {\n    const rect = canvasRef.current.getBoundingClientRect();\n    const mouseX = e.clientX - rect.left;\n    const mouseY = e.clientY - rect.top;\n    setAngle(Math.atan2(mouseY - 50, mouseX - WIDTH / 2)); // Adjust for top cannon\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onMouseMove: handleMouseMove,\n    onClick: shootBall,\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: WIDTH,\n      height: HEIGHT\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s(PiggleGame, \"3W20hMqaHEHgTeJSaGEBnG9gwQo=\");\n_c = PiggleGame;\nexport default PiggleGame;\nvar _c;\n$RefreshReg$(_c, \"PiggleGame\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","WIDTH","HEIGHT","BALL_RADIUS","PEG_RADIUS","NUM_PEGS","GRAVITY","FRICTION","getRandomPegPositions","Array","from","length","x","Math","random","y","hit","PiggleGame","_s","ball","setBall","pegs","setPegs","angle","setAngle","isShooting","setIsShooting","canvasRef","canvas","current","ctx","getContext","update","clearRect","drawCannon","drawPegs","updateBall","requestAnimationFrame","prev","dx","dy","forEach","peg","dist","hypot","beginPath","arc","PI","fillStyle","fill","closePath","save","translate","rotate","fillRect","restore","shootBall","cos","sin","setTimeout","handleMouseMove","e","rect","getBoundingClientRect","mouseX","clientX","left","mouseY","clientY","top","atan2","onMouseMove","onClick","children","ref","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/charliemclaughlin/Desktop/Programming/JavaScript/Piggle/piggle/src/PiggleGame.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"./index.css\";\n\nconst WIDTH = 800;\nconst HEIGHT = 600;\nconst BALL_RADIUS = 10;\nconst PEG_RADIUS = 15;\nconst NUM_PEGS = 20;\nconst GRAVITY = 0.2;\nconst FRICTION = 0.99;\n\nconst getRandomPegPositions = () => {\n  return Array.from({ length: NUM_PEGS }, () => ({\n    x: Math.random() * (WIDTH - 2 * PEG_RADIUS) + PEG_RADIUS,\n    y: Math.random() * (HEIGHT / 2 - 2 * PEG_RADIUS) + PEG_RADIUS,\n    hit: false,\n  }));\n};\n\nconst PiggleGame = () => {\n  const [ball, setBall] = useState(null);\n  const [pegs, setPegs] = useState(getRandomPegPositions);\n  const [angle, setAngle] = useState(0);\n  const [isShooting, setIsShooting] = useState(false);\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n\n    const update = () => {\n      ctx.clearRect(0, 0, WIDTH, HEIGHT);\n      drawCannon(ctx);\n      drawPegs(ctx);\n      if (ball) updateBall(ctx);\n      requestAnimationFrame(update);\n    };\n\n    update();\n  }, [ball, pegs]);\n\n  const updateBall = (ctx) => {\n    setBall((prev) => {\n      if (!prev) return null;\n      let { x, y, dx, dy } = prev;\n      dy += GRAVITY;\n      dx *= FRICTION;\n      dy *= FRICTION;\n      x += dx;\n      y += dy;\n\n      // Check for collisions with pegs\n      pegs.forEach((peg) => {\n        if (!peg.hit) {\n          const dist = Math.hypot(peg.x - x, peg.y - y);\n          if (dist < PEG_RADIUS + BALL_RADIUS) {\n            peg.hit = true;\n            dy = -dy;\n          }\n        }\n      });\n\n      // Check for walls\n      if (x - BALL_RADIUS < 0 || x + BALL_RADIUS > WIDTH) dx = -dx;\n      if (y - BALL_RADIUS < 0) dy = -dy;\n\n      // If ball hits the bottom, reset it\n      if (y + BALL_RADIUS >= HEIGHT) {\n        return null;\n      }\n\n      ctx.beginPath();\n      ctx.arc(x, y, BALL_RADIUS, 0, Math.PI * 2);\n      ctx.fillStyle = \"black\";\n      ctx.fill();\n      ctx.closePath();\n\n      return { x, y, dx, dy };\n    });\n  };\n\n  const drawCannon = (ctx) => {\n    ctx.save();\n    ctx.translate(WIDTH / 2, 50); // Move cannon to the top\n    ctx.rotate(angle);\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(-10, -30, 20, 50);\n    ctx.restore();\n  };\n\n  const drawPegs = (ctx) => {\n    pegs.forEach((peg) => {\n      if (!peg.hit) {\n        ctx.beginPath();\n        ctx.arc(peg.x, peg.y, PEG_RADIUS, 0, Math.PI * 2);\n        ctx.fillStyle = \"blue\"; // Change peg color to blue\n        ctx.fill();\n        ctx.closePath();\n      }\n    });\n  };\n\n  const shootBall = () => {\n    if (!isShooting && !ball) {\n      setIsShooting(true);\n      setBall({\n        x: WIDTH / 2,\n        y: 50, // Start from the cannon's position\n        dx: Math.cos(angle) * 5,\n        dy: Math.sin(angle) * 5,\n      });\n      setTimeout(() => setIsShooting(false), 2000);\n    }\n  };\n\n  useEffect(() => {\n    if (!ball) {\n      setTimeout(() => {\n        setBall(null);\n        setPegs(getRandomPegPositions());\n      }, 1000);\n    }\n  }, [ball]);\n\n  const handleMouseMove = (e) => {\n    const rect = canvasRef.current.getBoundingClientRect();\n    const mouseX = e.clientX - rect.left;\n    const mouseY = e.clientY - rect.top;\n    setAngle(Math.atan2(mouseY - 50, mouseX - WIDTH / 2)); // Adjust for top cannon\n  };\n\n  return (\n    <div onMouseMove={handleMouseMove} onClick={shootBall}>\n      <canvas ref={canvasRef} width={WIDTH} height={HEIGHT} />\n    </div>\n  );\n};\n\nexport default PiggleGame;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}